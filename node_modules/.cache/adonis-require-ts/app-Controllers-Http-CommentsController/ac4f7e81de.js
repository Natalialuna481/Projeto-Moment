"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Comment_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Comment"));
const Moment_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Moment"));
class CommentsController {
    async store({ request, response, params }) {
        const body = request.body();
        const momentId = params.momentId;
        await Moment_1.default.findOrFail(momentId);
        body.momentId = momentId;
        const comment = await Comment_1.default.create(body);
        response.status(201);
        return {
            message: 'Coment√°rio adicionado com sucesso!',
            data: comment,
        };
    }
}
exports.default = CommentsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tbWVudHNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ29tbWVudHNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsdUZBQXdDO0FBQ3hDLHFGQUFzQztBQUV0QyxNQUFxQixrQkFBa0I7SUFDOUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUF1QjtRQUNuRSxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDM0IsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQTtRQUVoQyxNQUFNLGdCQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBRWpDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLE1BQU0sT0FBTyxHQUFHLE1BQU0saUJBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7UUFFMUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUVwQixPQUFPO1lBQ0wsT0FBTyxFQUFFLG9DQUFvQztZQUM3QyxJQUFJLEVBQUUsT0FBTztTQUNkLENBQUE7SUFDSCxDQUFDO0NBQ0Y7QUFsQkQscUNBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5pbXBvcnQgQ29tbWVudCBmcm9tICdBcHAvTW9kZWxzL0NvbW1lbnQnXG5pbXBvcnQgTW9tZW50IGZyb20gJ0FwcC9Nb2RlbHMvTW9tZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tZW50c0NvbnRyb2xsZXIge1xuICBwdWJsaWMgYXN5bmMgc3RvcmUoeyByZXF1ZXN0LCByZXNwb25zZSwgcGFyYW1zIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgICBjb25zdCBib2R5ID0gcmVxdWVzdC5ib2R5KClcbiAgICBjb25zdCBtb21lbnRJZCA9IHBhcmFtcy5tb21lbnRJZFxuXG4gICAgYXdhaXQgTW9tZW50LmZpbmRPckZhaWwobW9tZW50SWQpXG5cbiAgICBib2R5Lm1vbWVudElkID0gbW9tZW50SWRcblxuICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmNyZWF0ZShib2R5KVxuXG4gICAgcmVzcG9uc2Uuc3RhdHVzKDIwMSlcblxuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiAnQ29tZW50w6FyaW8gYWRpY2lvbmFkbyBjb20gc3VjZXNzbyEnLFxuICAgICAgZGF0YTogY29tbWVudCxcbiAgICB9XG4gIH1cbn1cbiJdfQ==